<login>
  <div class="row">
    <div class="small-11 small-centered medium-6 medium-centered columns">
      <form onsubmit="{ login }">
        <div class="auth-form-header">
          <h1>Sign in</h1>
        </div>
        <div class="auth-form-body">
          <input class="input-block" name="username" type="text" placeholder="username">
          <input class="input-block" name="password" type="password" placeholder="password">
            <div class="form-actions">
            <button type="submit" class="btn btn-primary">Login</button>
            <button type="button" class="btn">Register</button>
            </div>
        </div>
      </form>
    </div>
  </div>

  <script>
    require('../../scss/auth-form.scss');
    var db =require('../store/db.js')
      this.login = async function() {
        var {success} = await db.login({
          username: this.username.value,
          password: this.password.value
        });
        if(success)
          riot.route('items');
        else
          this.error_msg = 'hehe'
      }
  </script>
</login>
